<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{/component/head.html::head-user}"></head>

<body>
	<!-- Start Header/Navigation -->
	<header th:replace="~{/component/header.html::navbar-user}"></header>
	<!-- End Header/Navigation -->
	<div class="body-cart container my-4">
		<div class="row">
			<div class="col-3 bg-white rounded-1">
				<div th:replace="~{/component/side-profile.html::profile-user}"></div>
			</div>
			<div class="col-9">
				<div
					class="row bg-white ms-2 rounded-bottom-3 rounded-top-1 px-4 py-3 border-bottom border-secondary-subtle">
					<div class="col-6">
						<a href="/purchase"><i class="fa-solid fa-chevron-left me-2"></i>Trở lại</a>
					</div>
					<div class="col-6 text-end">
						<span class="fs-6 text-black border-end pe-3">Mã đơn hàng : [(${PurchaseOrder.OrderId})]</span>
						<span class="fs-6 text-primary ps-3 ">[(${PurchaseOrder.OrderStatus})]
						</span>
					</div>
				</div>
				<th:block th:unless="${PurchaseOrder.OrderStatus} == 'Đã hủy'">
					<div
						class="row bg-white ms-2 rounded-3 px-4 py-5 pt-5 d-flex justify-content-center border-bottom border-secondary-subtle">
						<th:block th:if="${PurchaseOrder.OrderStatus} == 'Chờ thanh toán'">
							<div class="col-12 progress bg-secondary-subtle mt-3" style="width: 44rem;">
								<div class="progress-bar progress-bar-striped progress-bar-animated bg-success"
									role="progressbar" style="width:25%" aria-valuenow="25" aria-valuemin="0"
									aria-valuemax="100">
									<div class="ordered position-absolute rounded-pill bg-success"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: -1.3rem;">
										<i class="fa-solid fa-receipt fs-4 text-white"></i>
									</div>
									<div class="comfirmed position-absolute rounded-pill bg-success"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: 9.5rem;">
										<i class="fa-regular fa-credit-card fs-4 text-white"></i>
									</div>
									<div class="shipping position-absolute rounded-pill bg-secondary-subtle"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: 20.4rem;">
										<i class="fa-solid fa-truck fs-4 text-black "></i>
									</div>
									<div class="delivery position-absolute rounded-pill bg-secondary-subtle"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: 31rem;">
										<i class="fa-solid fa-box-open fs-4 text-black"></i>
									</div>
									<div class="finish-rating position-absolute rounded-pill bg-secondary-subtle"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: 40.3rem;">
										<i class="fa-regular fa-star fs-4 text-black"></i>
									</div>
								</div>
							</div>
						</th:block>
						<th:block th:if="${PurchaseOrder.OrderStatus} == 'Vận chuyển'">
							<div class="col-12 progress bg-secondary-subtle mt-3" style="width: 44rem;">
								<div class="progress-bar progress-bar-striped progress-bar-animated bg-success"
									role="progressbar" style="width:50%" aria-valuenow="25" aria-valuemin="0"
									aria-valuemax="100">
									<div class="ordered position-absolute rounded-pill bg-success"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: -1.3rem;">
										<i class="fa-solid fa-receipt fs-4 text-white"></i>
									</div>
									<div class="comfirmed position-absolute rounded-pill bg-success"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: 9.5rem;">
										<i class="fa-regular fa-credit-card fs-4 text-white"></i>
									</div>
									<div class="shipping position-absolute rounded-pill bg-success"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: 20.4rem;">
										<i class="fa-solid fa-truck fs-4 text-white "></i>
									</div>
									<div class="delivery position-absolute rounded-pill bg-secondary-subtle"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: 31rem;">
										<i class="fa-solid fa-box-open fs-4 text-black"></i>
									</div>
									<div class="finish-rating position-absolute rounded-pill bg-secondary-subtle"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: 40.3rem;">
										<i class="fa-regular fa-star fs-4 text-black"></i>
									</div>
								</div>
							</div>
						</th:block>
						<th:block th:if="${PurchaseOrder.OrderStatus} == 'Chờ giao hàng'">
							<div class="col-12 progress bg-secondary-subtle mt-3" style="width: 44rem;">
								<div class="progress-bar progress-bar-striped progress-bar-animated bg-success"
									role="progressbar" style="width:80%" aria-valuenow="25" aria-valuemin="0"
									aria-valuemax="100">
									<div class="ordered position-absolute rounded-pill bg-success"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: -1.3rem;">
										<i class="fa-solid fa-receipt fs-4 text-white"></i>
									</div>
									<div class="comfirmed position-absolute rounded-pill bg-success"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: 9.5rem;">
										<i class="fa-regular fa-credit-card fs-4 text-white"></i>
									</div>
									<div class="shipping position-absolute rounded-pill bg-success"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: 20.4rem;">
										<i class="fa-solid fa-truck fs-4 text-white "></i>
									</div>
									<div class="delivery position-absolute rounded-pill bg-success"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: 31rem;">
										<i class="fa-solid fa-box-open fs-4 text-white"></i>
									</div>
									<div class="finish-rating position-absolute rounded-pill bg-secondary-subtle"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: 40.3rem;">
										<i class="fa-regular fa-star fs-4 text-black"></i>
									</div>
								</div>
							</div>
						</th:block>
						<th:block th:if="${PurchaseOrder.OrderStatus} == 'Hoàn thành'">
							<div class="col-12 progress bg-secondary-subtle mt-3" style="width: 44rem;">
								<div class="progress-bar progress-bar-striped bg-success" role="progressbar"
									style="width:100%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
									<div class="ordered position-absolute rounded-pill bg-success"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: -1.3rem;">
										<i class="fa-solid fa-receipt fs-4 text-white"></i>
									</div>
									<div class="comfirmed position-absolute rounded-pill bg-success"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: 9.5rem;">
										<i class="fa-regular fa-credit-card fs-4 text-white"></i>
									</div>
									<div class="shipping position-absolute rounded-pill bg-success"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: 20.4rem;">
										<i class="fa-solid fa-truck fs-4 text-white "></i>
									</div>
									<div class="delivery position-absolute rounded-pill bg-success"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: 31rem;">
										<i class="fa-solid fa-box-open fs-4 text-white"></i>
									</div>
									<div class="finish-rating position-absolute rounded-pill bg-success"
										style="height: 50px; width: 50px;padding-top: 13px;margin-left: 40.3rem;">
										<i class="fa-solid fa-star fs-4 text-white"></i>
									</div>
								</div>
							</div>
						</th:block>
						<div class="col-12 mt-5 fs-6">
							<span class="text-black pe-5" style="font-size: 0.8rem;">Đơn hàng đã đặt</span>
							<span class="text-black pe-5" style="font-size: 0.8rem;">Đã xác nhận thông tin</span>
							<span class="text-black pe-5" style="font-size: 0.8rem;">Đã giao cho ĐVVC</span>
							<span class="text-black pe-5" style="font-size: 0.8rem;padding-left: 1rem;">Chờ giao
								hàng</span>
							<span class="text-black " style="font-size: 0.8rem; padding-left: 1.4rem;">Hoàn thành</span>
						</div>
					</div>
					<div class="row ms-2 rounded-top-3 py-3 px-4 my-auto border-bottom border-secondary-subtle"
						style="background-color: #fffcf5;">
						<div class="col-6 my-auto">
							<span>Đơn hàng được đặt vào ngày [(${#dates.format(PurchaseOrder.OrderDate, 'dd-MM-yyyy')})]
							</span>
						</div>
						<div class="col-6 text-end">
							<th:block th:if="${PurchaseOrder.OrderStatus} == 'Chờ thanh toán'">
								<a class="btn btn-outline-danger rounded-2 py-2"
									th:href="@{|/cancelOrder/${PurchaseOrder.OrderId}|}">Hủy đơn</a>
							</th:block>
							<th:block th:unless="${PurchaseOrder.OrderStatus} == 'Chờ thanh toán'">
								<a class="btn btn-outline-secondary rounded-2 py-2" href="/products">Mua tiếp</a>
							</th:block>
						</div>
					</div>
					<div class="row">
						<div class="ms-4 px-4" style="
					background-image: repeating-linear-gradient(45deg,#6fa6d6,#6fa6d6 33px,transparent 0,transparent 41px,#f18d9b 0,#f18d9b 74px,transparent 0,transparent 82px);
					background-position-x: -1.875rem;
					background-size: 7.25rem .1875rem;
					height: .1875rem;
					width: 52rem 
				"></div>
					</div>
					<div class="row bg-white ms-2 p-4">
						<div class="col-12">
							<h4 class="text-black mb-4">Địa chỉ nhận hàng</h4>
							<span class="fs-6 text-black d-block">[(${PurchaseOrder.Account.Gender == true
								?'Anh':'Chị'})]
								[(${PurchaseOrder.Account.FullName})]</span>
							<span class="d-block">[(${PurchaseOrder.Account.Phone})]</span>
							<span class="">[(${PurchaseOrder.Address})]</span>
						</div>
					</div>
				</th:block>
				<th:block th:if="${PurchaseOrder.OrderStatus} == 'Đã hủy'">
					<div class="row ms-2 p-4 text-danger rounded-top-2" style="background-color: #fdf7e7;">
						<h5>Đã hủy đơn hàng</h5>
					</div>
				</th:block>
				<div class="row ms-2 p-4" style="background-color: #fafafa;" th:each="x: ${PurchaseOrder.orderDetails}">
					<div class="col-2 pb-2 ">
						<img th:src="@{|/assets/images/products/${x.Product.Image}|}" class="w0" width="100px"
							alt="Card title" />
					</div>
					<div class="col-8 my-auto pb-3">
						<div class="card-body">
							<span class="card-text fs-4">
								[(${x.Product.ProductName})]
							</span><br>
							<span class="quan fw-bold">
								x[(${x.Quantity})]
							</span><br>
							<del><span class="old">
									[[${#numbers.formatDecimal(x.Price + 30000,0,'COMMA',0,'POINT')}]]đ
								</span></del>
							<span class="ms-2 text-danger fw-bold new">
								[[${#numbers.formatDecimal(x.Price,0,'COMMA',0,'POINT')}]]đ
							</span><br>
						</div>
					</div>
				</div>
				<div class="row" th:each="x: ${PurchaseOrder.orderDetails}">
					<div class="table-responsive pe-2 ms-2">
						<table class="table table-bordered text-end">
							<thead>
								<tr>
									<td scope="col" width="70%" class="pe-3">Tổng tiền hàng</td>
									<td scope="col" class="pe-4">
										[[${#numbers.formatDecimal(x.Total,0,'COMMA',0,'POINT')}]]đ</td>
								</tr>
							</thead>
							<tbody>
								<tr class="">
									<td scope="row" class="pe-3">Phí vận chuyển</td>
									<td class="pe-4">0đ</td>
								</tr>
								<tr class="">
									<td scope="row" class="pe-3 ">Thành tiền</td>
									<td class="pe-4 text-danger fw-bold fs-5">
										[[${#numbers.formatDecimal(x.Total,0,'COMMA',0,'POINT')}]]đ</td>
								</tr>
							</tbody>
						</table>
					</div>


				</div>
			</div>
		</div>
	</div>

	<span onclick="topFunction()" id="myBtn" title="Go to top">
		<span class="bg-favorite shadow-sm ">&#129129;</span>
	</span>
	<!-- Start Footer Section -->
	<footer th:replace="~{/component/footer.html::footer-user}"></footer>
	<!-- End Footer Section -->
	<script src="/assets/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
	<script src="assets/js/custom.js"></script>
	<script src="/assets/js/index.js"></script>
	<script src="/assets/js/chatbox.js"></script>

</body>

</html>